eLoadedDoc();this.clearEditorState();this._previousSelectionLocation=void 0;this._displayedDoc=e;const n=e.editorState;if(n){this.setEditorModel(n.model,e);this.editorUpdated.invoke(e)}else e.editorState=new Ct.a;return ke.a.then(()=>{if(!n){this._pendingSelectionLocation=void 0;this.updateDisplayedText(e,Object(l.b)("OpenFileProgress",e.url.toString()),!1);return e.getText().then(t=>{e.hasText||(this._pendingSelectionLocation=i);this.updateDisplayedText(e,t,!0)})}}).then(()=>{this.restoreEditorState(e);this.displaySyntaxErrorInfo(e);if(i&&i.startPosition&&!this._pendingSelectionLocation){this.revealRange(i,2===t);this.editorPosition=i}this._debuggerManager.testEventObject.fireEvent("editorDocumentOpened")})}doLayout(e){this._editor&&window.setImmediate(()=>{V.b.logPerformance({id:H.b.Debugger_Editor_Layout_Start});this._editor&&this._editor.layout();V.b.logPerformance({id:H.b.Debugger_Editor_Layout_Stop});e&&this._editor&&this._editor.focus()})}breakStateChanged(e){this._editorContextMenu.hide();e||this.destroyExceptionDisplays();const t=this._documentController.currentDoc;if(t){t.breakStateChanged();this.requestedIsWritable=t